webpackJsonp([8],{Q9Zx:function(t,a){},StQU:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),i=s.n(e),n=s("Dd8w"),o=s.n(n),r=s("orAT"),c=s("AMmF"),l=s("nDrS"),d=s.n(l),u=s("NYxO"),p=s("EMXe"),v=s("zLv/"),g=s.n(v),h=(s("LPE6"),s("jl7J")),m=s.n(h),_=(s("VeD2"),s("MJug")),f=s.n(_),y=(s("tZ6o"),s("bF/D")),C=s.n(y),b=(s("YUF+"),{name:"my-Chart",data:function(){return{input:null,year:null,pages:{page:1,pageSize:10,cunt:null},list:[{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2},{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2}],listData:[],loading:!1}},methods:o()({},Object(u.b)({transportListpost:"transportListFn",updateTansportStatuspost:"updateTansportStatus",delPost:"deletefn",checkID:"checkId",mapListFn:"mapListFn"}),{handleCurrentChange:function(t){this.pages.page=parseInt(t),this.input?this.saechFn():this.saechList()},saechList:function(){this.loading=!0;var t={id:1,page:this.pages.page,pageSize:this.pages.pageSize};this.transportListpost(t)},saechFn:function(){if(this.loading=!0,this.input){var t={code:this.input};this.checkID(t)}else{t={id:1};this.transportListpost(t)}},listFn:function(t){if(this.loading=!1,t.body.count){var a=t.body.count;this.pages.cunt=Math.ceil(a/this.pages.pageSize)}t=t.body.data;this.listData=[];var s=[];for(var e in t){var i,n,o;n=t[e].createTime?c.a.publicLo.timeCheng(t[e].createTime):{ymd:null,hms:null,times:null,s:null,d:null,m:null,md:null,week:null,y:null};var r=c.a.publicLo.dataChange();if(r.y+r.m==n.y+n.m){var l=parseInt(r.d),u=parseInt(n.d);l==u?o="今天":l-u==1&&(o="昨天")}i=this.ransportSwitch(t[e].transportType);var p,v=d.a[t[e].startPosition.country],g=d.a[t[e].endPosition.country];v||(v={CN:"",EN:""}),g||(g={CN:"",EN:""}),p=t[e].deviceOnff&&1==t[e].deviceOnff?{CN:"开",EN:"ON"}:0==t[e].deviceOnff?{CN:"关",EN:"OFF"}:{CN:"异常",EN:"error"},t[e].newAddress?t[e].newAddress.length>10&&(t[e].newAddress=t[e].newAddress.substring(0,10)+"..."):t[e].newAddress="未请求到数据";var h={id:t[e].id,containerId:t[e].containerId,ladingId:t[e].billNumber,deviceId:t[e].deviceNumber,deviceOnff:t[e].deviceOnff,deviceOnfftext:p,startPosition:v.CN,endPosition:g.CN,startPositionEn:v.EN,endPositionEn:g.EN,transportStatus:t[e].transportStatus,transportType:t[e].transportType,deviceStatus:0,time:n.hms,year:parseInt(n.y),month:n.m,data:n.d,dateText:o,transportTypeText:i.type,transportTypeTextEn:i.typeEn,icon:i.icon,now:t[e].newAddress,ymd:n.ymd+" "+n.hms};h.startPosition.length>4&&(h.startPosition=h.startPosition.substring(0,4)+"..."),h.endPosition.length>4&&(h.endPosition=h.endPosition.substring(0,4)+"..."),h.startPositionEn.length>8&&(h.startPositionEn=h.startPositionEn.substring(0,8)+"..."),h.endPositionEn.length>8&&(h.endPositionEn=h.endPositionEn.substring(0,8)+"..."),0==e?this.year=h.year:this.year==h.year&&(h.year=""),s.push(h)}this.listData=s},ransportSwitch:function(t){var a;switch(t){case 0:a={type:"火车",icon:C.a,typeEn:"Train"};break;case 1:a={type:"汽车",icon:g.a,typeEn:"Motor"};break;case 2:a={type:"轮船",icon:f.a,typeEn:"Freighter"};break;case 3:a={type:"飞机",icon:m.a,typeEn:"Flight"};break;default:a={type:"异常",icon:g.a}}return a},updatStatusFn:function(t){var a={id:i()(t),transportStatus:"1"};this.updateTansportStatuspost(a)},del:function(t){this.loading=!0;var a={id:i()(t)};this.delPost(a)},listStatus:function(t){this.loading=!1,0==t.status&&(this.openSuccess(t.message),this.input?this.saechFn():this.saechList()),0!=t.status&&this.openError(t.message),this.$store.commit("updateStatusTo",{body:null})},gomap:function(t){return this.$store.commit("addMapList",null),this.$router.push({name:"map",query:{id:t.id}}),!1},goChart:function(t){this.$router.push({name:"chartSon",query:{id:t.id}})},openSuccess:function(t){this.$message({message:t,type:"success"})},openError:function(t){this.$message.error(t)}}),computed:o()({transport:function(){var t=this.transportList;return t&&t.body&&this.listFn(t),1},updateStatusData:function(){var t=this.updateStatus;return t&&this.listStatus(t),1},mapListData:function(){this.mapList;return 1},languageData:function(){var t=this.language;return t&&("Chinese"==t.check&&(t=t.Chinese),"English"==t.check&&(t=t.English)),t}},Object(u.c)(["transportList","updateStatus","language","mapList"])),mounted:function(){this.saechList()},components:{ElButton:p.a,HeaderPublc:r.a}}),x={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("section",{attrs:{id:"header"}},[s("HeaderPublc")],1),t._v(" "),s("section",{attrs:{id:"cent"}},[s("div",{staticClass:"top"}),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"saech"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"saechIput",attrs:{placeholder:t.languageData.public.sechText},domProps:{value:t.input},on:{input:function(a){a.target.composing||(t.input=a.target.value)}}}),t._v(" "),s("el-button",{staticClass:"saechBout",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(a){t.saechFn()}}})],1),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cardBox clearfix",attrs:{transport:t.transport,"element-loading-text":t.languageData.public.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"#f7f7f7"}},t._l(t.listData,function(a){return s("div",{staticClass:"card clearfix",on:{click:function(s){t.goChart(a)}}},[s("div",{staticClass:"span4 device left clearfix"},[s("div",{staticClass:" textBox address clearfix"},[s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?a.startPosition:a.startPositionEn))]),t._v(" "),s("div",{staticClass:"left iconBox"},[s("div",{staticClass:"iocn"},[s("img",{attrs:{src:a.icon}})]),t._v(" "),s("div",{staticClass:"l"}),t._v(" "),s("p",{staticClass:"go"},[t._v(t._s(0==a.transportStatus?"运输中":1==a.transportStatus?"运输完成":2==a.transportStatus?"运输错误":"异常"))])]),t._v(" "),s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?a.endPosition:a.endPositionEn))]),t._v(" "),s("div",{staticClass:"cleae"}),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticClass:"goMap",staticStyle:{cursor:"pointer"},on:{click:function(s){s.stopPropagation(),t.gomap(a)}}},[s("i",{staticClass:"el-icon-location"}),t._v(" "+t._s(t.languageData.header.transport)+"："+t._s(a.now)),s("i",{staticClass:"el-icon-arrow-right"})])])])]),t._v(" "),s("div",{staticClass:"span3 device left  clearfix"},[s("div",{staticClass:"textBox deviceT"},[s("p",[s("label",[t._v(t._s(t.languageData.public.plalte)+"：")]),s("span",[t._v(t._s(a.containerId))])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.ladingIdBill)+"：")]),s("span",[t._v(t._s(a.ladingId))])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.container)+"：")]),s("span",[t._v(t._s(a.deviceId))])])])]),t._v(" "),s("div",{staticClass:"span3 device left clearfix",attrs:{mapListData:t.mapListData}},[s("div",{staticClass:"deviceStatus textBox deviceT"},[s("p",[s("label",[t._v(t._s(t.languageData.public.modeOfTransport)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?a.transportTypeText:a.transportTypeTextEn)+" ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.status)+"： ")]),s("span",[t._v(" "+t._s(0==a.transportStatus?"运输中":1==a.transportStatus?"运输完成":2==a.transportStatus?"运输错误":"异常")+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.deviceStatus)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?a.deviceOnfftext.CN:a.deviceOnfftext.EN)+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.creaedTime)+"： ")]),s("span",[t._v(" "+t._s(a.ymd)+" ")])])])]),t._v(" "),s("div",{staticClass:"cleae"}),t._v(" "),s("div",{staticClass:"timeDate"},[s("p",{staticClass:"year"},[t._v(" "+t._s(a.year?a.year:""))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:a.dateText,expression:"list.dateText"}],staticClass:"data"},[t._v(t._s(a.dateText))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!a.dateText,expression:"!list.dateText"}],staticClass:"data"},[s("span",[t._v(" "+t._s(a.data))]),t._v(" "),s("i",{staticClass:"month"},[t._v(" "+t._s(a.month)+" "+t._s(t.languageData.public.month))])])]),t._v(" "),s("div",{staticClass:"set"},[s("div",[s("el-button",{staticClass:"bot",attrs:{round:"",updateStatusData:t.updateStatusData},on:{click:function(s){s.stopPropagation(),t.del(a.id)}}},[t._v(t._s(t.languageData.public.Delete))])],1),t._v(" "),s("div",[s("el-button",{staticClass:"okBot",attrs:{round:""},on:{click:function(s){s.stopPropagation(),t.updatStatusFn(a.id)}}},[t._v(t._s(t.languageData.public.completion))])],1)])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticStyle:{"text-align":"right",width:"70%","min-width":"980px","max-width":"1500px","padding-bottom":"40px",margin:"auto"}},[s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pages.cunt>1,expression:"pages.cunt>1"}],attrs:{layout:"prev, pager, next","page-count":t.pages.cunt},on:{"current-change":t.handleCurrentChange}})],1)]),t._v(" "),s("div",{staticClass:"botList"})]),t._v(" "),s("section",{staticStyle:{"text-align":"right"},attrs:{id:"footer"}})])},staticRenderFns:[]},S=s("VU/8")(b,x,!1,function(t){s("Q9Zx")},"data-v-70a774ff",null);a.default=S.exports}});
//# sourceMappingURL=8.4a8a9c0a88216c2b2a83.js.map