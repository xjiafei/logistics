webpackJsonp([8],{j7A6:function(t,a){},lGr5:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("mvHQ"),i=s.n(e),n=s("Dd8w"),l=s.n(n),o=s("orAT"),r=s("AMmF"),d=s("nDrS"),c=s.n(d),u=s("NYxO"),p=s("EMXe"),v=s("Iu90"),g=s.n(v),h=(s("LPE6"),s("+EAe")),y=s.n(h),m=(s("VeD2"),s("xnxj")),N=s.n(m),C=(s("tZ6o"),s("uL0D")),_=s.n(C),D=(s("YUF+"),{name:"my-ChartSon",data:function(){return{id:null,year:null,list:[{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2},{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2}],listData:{id:1,containerId:"QWE1254",ladingId:"QWE456",deviceId:"PPPP",deviceOnff:1,deviceOnfftext:{EN:"ON",CN:"开机"},startPosition:{country:{EN:"",CN:""},city:{EN:"",CN:""},province:{EN:"",CN:""},address:{EN:"",CN:""}},endPosition:{country:{EN:"",CN:""},city:{EN:"",CN:""},province:{EN:"",CN:""},address:{EN:"",CN:""}},startPositionEn:"",transportStatus:0,transportStatusCn:"",transportStatusEn:"",transportType:{EN:"ON",CN:"运输中"},deviceStatus:0,time:"09:30",year:"2017",month:"9",data:"26",dateText:"",transportTypeText:{},transportTypeTextEn:"tian",icon:"",now:"南山区",ymd:"2017-09 09:30",locateFrequency:"",frequencyTypeText:{EN:"",CN:""}},loading:!1,ladingIdBillShow:!1}},methods:l()({},Object(u.b)({transportListpost:"transportListFn",updateTansportStatuspost:"updateTansportStatus",delPost:"deletefn",checkID:"checkId",mapListFn:"mapListFn",chart:"detail",updateBillon:"updateBillon"}),{saechList:function(t){var a={id:t};this.chart(a)},saechFn:function(){},listFn:function(t){var a,s,e,i;s=(t=t.body.data).createTime?r.a.publicLo.timeCheng(t.createTime):{ymd:null,hms:null,times:null,s:null,d:null,m:null,md:null,week:null,y:null},i=t.completeTime?r.a.publicLo.timeCheng(t.completeTime):{ymd:null,hms:null,times:null,s:null,d:null,m:null,md:null,week:null,y:null};var n=r.a.publicLo.dataChange();if(n.y+n.m==s.y+s.m){var l=parseInt(n.d),o=parseInt(s.d);l==o?e="今天":l-o==1&&(e="昨天")}a=this.ransportSwitch(t.transportType);var d=this.ctiyChart(t.startPosition);t.startPosition.address&&(d.address.CN+=t.startPosition.address,d.address.EN+=t.startPosition.address);var c=this.ctiyChart(t.endPosition);t.endPosition.address&&(c.address.CN+=t.endPosition.address,c.address.EN+=t.endPosition.address);var u={CN:"",EN:""};u={CN:"异常",EN:"error"},t.deviceOnff&&1==t.deviceOnff?u={CN:"开",EN:"ON"}:0==t.deviceOnff&&(u={CN:"关",EN:"OFF"});var p=this.frequencyTypeFn(t.frequencyType);t.newAddress?t.newAddress.length:t.newAddress="未请求到数据";var v={id:this.id,containerId:t.containerId,ladingId:t.ladingId,deviceId:t.deviceId,deviceOnff:t.deviceOnff,deviceOnfftext:u,startPosition:d,endPosition:c,transportStatus:t.transportStatus,transportStatusCn:1==t.transportStatus?"运输完成":0==t.transportStatus?"运输中":"异常",transportStatusEn:1==t.transportStatus?"transport completion":0==t.transportStatus?"transport on":"error",transportType:t.transportType,deviceStatus:0,time:s.hms,year:parseInt(s.y),month:s.m,data:s.d,dateText:e,transportTypeText:a.type,transportTypeTextEn:a.typeEn,icon:a.icon,now:t.newAddress,ymd:s.ymd+" "+s.hms,completeTime:i.ymd+" "+i.hms,locateFrequency:t.locateFrequency,frequencyTypeText:p};this.listData=v},ransportSwitch:function(t){var a;switch(t){case 0:a={type:"火车",icon:_.a,typeEn:"Train"};break;case 1:a={type:"汽车",icon:g.a,typeEn:"Motor"};break;case 2:a={type:"轮船",icon:N.a,typeEn:"Freighter"};break;case 3:a={type:"飞机",icon:y.a,typeEn:"Flight"};break;default:a={type:"异常",icon:g.a}}return a},ctiyChart:function(t){var a,s=c.a[t.country]||{EN:"",CN:""};if(!t.city)return{country:{EN:s.EN,CN:s.CN},city:{EN:"",CN:""},province:{EN:"",CN:""},address:{EN:s.EN+" ",CN:s.CN+" "}};a=t.city.split("_");var e=s[t.country+"_"+a[1]],i=e[a[0]+"_"+a[1]+"_"+a[2]];return{country:{EN:s.EN,CN:s.CN},city:{EN:i.EN,CN:i.CN},province:{EN:e.EN,CN:e.CN},address:{EN:s.EN+" "+e.EN+" "+i.EN+" ",CN:s.CN+" "+e.CN+" "+i.CN+" "}}},frequencyTypeFn:function(t){var a={EN:"",CN:""};return t&&(a.EN=t,"min"==t?a.CN="分钟":"hour"==t?a.CN="小时":"day"==t&&(a.CN="天")),a},updatStatusFn:function(t){var a={id:t,transportStatus:"1"};this.updateTansportStatuspost(a)},del:function(t){var a={id:i()(t)};this.delPost(a)},listStatus:function(t){0==t.status&&(this.openSuccess(t.message),this.input),0!=t.status&&this.openError(t.message),this.$store.commit("updateStatusTo",{body:null})},gomap:function(t){return this.$store.commit("addMapList",null),this.$store.commit("shechDat",t.deviceId),this.$router.push({name:"map",query:{id:t.id}}),!1},goBack:function(){this.$router.go(-1)},goChart:function(t){},updateBill:function(t){if(this.ladingIdBillShow=!this.ladingIdBillShow,t){var a=this.listData.ladingId;console.log(a);var s={id:t,ladingId:this.listData.ladingId};this.updateBillon(s)}},openSuccess:function(t){this.$message({message:t,type:"success"})},openError:function(t){this.$message.error(t)}}),computed:l()({updateStatusData:function(){var t=this.updateStatus;return t&&this.listStatus(t),1},DetailData:function(){var t=this.Detail;return t&&this.listFn(t),1},languageData:function(){var t=this.language;return t&&("Chinese"==t.check&&(t=t.Chinese),"English"==t.check&&(t=t.English)),t}},Object(u.c)(["updateStatus","language","Detail"])),mounted:function(){this.$store.commit("updateNave",{logo:!0,login:!1,us:!0,language:!1,user:!0,nav:!0});var t=this.$route.query.id;console.log(t),t&&(this.saechList(t),this.id=t)},components:{ElButton:p.a,HeaderPublc:o.a}}),f={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("section",{attrs:{id:"header"}},[s("HeaderPublc")],1),t._v(" "),s("section",{attrs:{id:"cent"}},[s("div",{staticClass:"top"}),t._v(" "),s("div",{staticClass:"center"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cardBox clearfix",attrs:{DetailData:t.DetailData,"element-loading-text":t.languageData.public.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"#f7f7f7"}},[s("div",{staticClass:"goBack",on:{click:function(a){t.goBack()}}},[t._m(0)]),t._v(" "),s("div",{staticClass:"card clearfix",on:{click:function(a){t.goChart(t.listData)}}},[s("div",{staticClass:"span6 device  clearfix"},[s("div",{staticClass:" textBox address clearfix"},[s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?t.listData.startPosition.country.CN:t.listData.startPosition.country.EN))]),t._v(" "),s("div",{staticClass:"left iconBox"},[s("div",{staticClass:"iocn"},[s("img",{attrs:{src:t.listData.icon}})]),t._v(" "),s("div",{staticClass:"l"}),t._v(" "),s("p",{staticClass:"go"},[t._v(t._s("Chinese"==t.languageData.id?t.listData.transportStatusCn:t.listData.transportStatusEn))])]),t._v(" "),s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?t.listData.endPosition.country.CN:t.listData.endPosition.country.EN))]),t._v(" "),s("div",{staticClass:"cleae"}),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticStyle:{cursor:"pointer"},on:{click:function(a){a.stopPropagation(),t.gomap(t.listData)}}},[s("span",{staticClass:"pt"},[s("i",{staticClass:"el-icon-location"}),t._v(t._s(t.languageData.header.transport)+"："+t._s(t.listData.now)),s("i",{staticClass:"el-icon-arrow-right"})])])])])]),t._v(" "),s("div",{staticClass:"span6 device   clearfix"},[s("div",{staticClass:"textBox deviceT"},[s("p",{staticStyle:{position:"relative"}},[s("label",[t._v(t._s(t.languageData.public.plalte)+"：")]),s("span",[t._v(t._s(t.listData.containerId))]),s("span",{staticClass:"copy"},[t._v(" "+t._s(t.languageData.public.copy)+" ")])]),t._v(" "),s("p",{staticStyle:{position:"relative"}},[s("label",[t._v(t._s(t.languageData.public.ladingIdBill)+"：")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.ladingIdBillShow,expression:"!ladingIdBillShow"}]},[t._v(t._s(t.listData.ladingId))]),t._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:t.ladingIdBillShow&&1!=t.listData.transportStatus,expression:"ladingIdBillShow && listData.transportStatus!=1"},{name:"model",rawName:"v-model",value:t.listData.ladingId,expression:"listData.ladingId"}],staticClass:"ladingIdBill",attrs:{type:"text"},domProps:{value:t.listData.ladingId},on:{input:function(a){a.target.composing||t.$set(t.listData,"ladingId",a.target.value)}}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.ladingIdBillShow&&1!=t.listData.transportStatus,expression:"!ladingIdBillShow && listData.transportStatus!=1"}],staticClass:"update",on:{click:function(a){t.updateBill()}}},[t._v("修改")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.ladingIdBillShow&&1!=t.listData.transportStatus,expression:"ladingIdBillShow && listData.transportStatus!=1"}],staticClass:"update",on:{click:function(a){t.updateBill(t.listData.id)}}},[t._v("确定")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.container)+"：")]),s("span",[t._v(t._s(t.listData.deviceId))])])])]),t._v(" "),s("div",{staticClass:"span6 device  clearfix"},[s("div",{staticClass:"deviceStatus textBox deviceT"},[s("p",[s("label",[t._v(t._s(t.languageData.public.modeOfTransport)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?t.listData.transportTypeText:t.listData.transportTypeTextEn)+" ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.status)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?t.listData.transportStatusCn:t.listData.transportStatusEn)+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.deviceStatus)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?t.listData.deviceOnfftext.CN:t.listData.deviceOnfftext.EN)+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.creaedTime)+"： ")]),s("span",[t._v(" "+t._s(t.listData.ymd)+" ")])]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"null null"!=t.listData.completeTime,expression:"listData.completeTime != 'null null'"}]},[s("label",[t._v("完成时间： ")]),s("span",[t._v(" "+t._s(t.listData.completeTime)+" ")])]),t._v(" "),s("p",[s("label",[t._v("定位频率： ")]),s("span",[t._v(t._s(t.listData.locateFrequency)+" "+t._s("Chinese"==t.languageData.id?t.listData.frequencyTypeText.CN:t.listData.frequencyTypeText.EN))])]),t._v(" "),s("p",[s("label",[t._v("起始地： ")]),s("span",[t._v(t._s("Chinese"==t.languageData.id?t.listData.startPosition.address.CN:t.listData.startPosition.address.EN))])]),t._v(" "),s("p",[s("label",[t._v("目的地： ")]),s("span",[t._v(t._s("Chinese"==t.languageData.id?t.listData.endPosition.address.CN:t.listData.endPosition.address.EN))])])])]),t._v(" "),s("div",{staticStyle:{"text-align":"right","padding-top":"40px"}},[s("el-button",{staticClass:"bot",attrs:{round:"",updateStatusData:t.updateStatusData},on:{click:function(a){t.del(t.listData.id)}}},[t._v(t._s(t.languageData.public.Delete))]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1!=t.listData.transportStatus,expression:"listData.transportStatus!=1"}],staticClass:"okBot",attrs:{round:""},on:{click:function(a){t.updatStatusFn(t.listData.id)}}},[t._v(t._s(t.languageData.public.completion))])],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"el-icon-arrow-left"},[a("span",{staticStyle:{cursor:"pointer"}},[this._v("返回")])])}]},E=s("VU/8")(D,f,!1,function(t){s("j7A6")},"data-v-f3878af6",null);a.default=E.exports}});
//# sourceMappingURL=8.cc5a53b1657226717baf.js.map