{"version":3,"sources":["webpack:///src/components/public/addCity.vue","webpack:///./src/components/public/addCity.vue?12ad","webpack:///./src/components/public/addCity.vue","webpack:///src/components/admin/cityConfig.vue","webpack:///./src/components/admin/cityConfig.vue?4425","webpack:///./src/components/admin/cityConfig.vue"],"names":["usr","_this","this","required","message","trigger","min","max","validator","callback","methods","extends_default","Object","vuex_esm","_ref","row","val","_this2","city","getlist","res","data","local_default","a","list","_i","split","CN","EN","address","id","da2","dat3","_i2","result","country","code","province","parm","uer","companyId","text","companyName","par","computed","cityListData","body","updateStatus","language","Chinese","public_addCity","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","updateStatusData","element-loading-text","element-loading-spinner","element-loading-background","staticStyle","position","ref","label-position","labelPosition","label-width","model","fromData","rules","label","languageData","placeholder","on","change","$event","cityChange","$$v","$set","_l","item","key","_v","prop","text-align","type","round","click","submitForm","_s","width","left","top","font-weight","admin","checkCity","cityList","lis","font-size","line-height","li","stopPropagation","delCityFn","margin","margin-top","disabled","submintA","updateCity","CompanyCity","staticRenderFns","components_public_addCity","__webpack_require__","normalizeComponent","addCity","ssrContext","set","admin_cityConfig","cityConfig_Component","cityConfig_normalizeComponent","cityConfig","__webpack_exports__"],"mappings":"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","file":"static/js/7.0424fe2548a7924b881f.js","sourcesContent":["<template>\n  <div :updateStatusData=\"updateStatusData\" class=\"clearfix\" v-loading=\"loading\" element-loading-text=\"请稍后...\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"#f7f7f7\">\n    <div class=\"fromBox left\" style=\"position: relative\">\n      <!-- chegn-->\n      <el-form :label-position=\"labelPosition\" label-width=\"83px\" :model=\"fromData\" :rules=\"rules\" ref=\"fromData\">\n        <el-form-item :label=\"languageData.id=='Chinese'?'国家':'country'\" >\n          <el-select v-model=\"fromData.country\"  @change=\"cityChange('country')\" :placeholder=\"languageData.id=='Chinese'?'请选择':'country'\">\n            <el-option v-for=\"item in options\" :key=\"item.code\" :label=\"languageData.id=='Chinese'?item.CN:item.EN\" :value=\"item.code\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"languageData.id=='Chinese'?'省份（州）':'province'\" v-show=\"provinceCheck\">\n          <el-select v-model=\"fromData.province\"  @change=\"cityChange('province')\" :placeholder=\"languageData.id=='Chinese'?'请选择':'province'\">\n            <el-option v-for=\"item in provincePtions\" :key=\"item.code\" :label=\"languageData.id=='Chinese'?item.CN:item.EN\" :value=\"item.code\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item :label=\"languageData.id=='Chinese'?'城市':'city'\" prop=\"city\" >\n          <el-select v-model=\"fromData.city\"  @change=\"cityChange('city')\" :placeholder=\"languageData.id=='Chinese'?'请选择':'city'\">\n            <el-option v-for=\"item in cityPtion\" :key=\"item.code\" :label=\"languageData.id=='Chinese'?item.CN:item.EN\" :value=\"item.code\"></el-option>\n          </el-select>\n        </el-form-item>\n          <div style=\"text-align: center\">\n            <el-button type=\"primary\" round class=\"submit\" v-on:click=\"submitForm('fromData')\"> {{languageData.id=='Chinese'?'选择':'Selected'}} </el-button>\n          </div>\n      </el-form>\n      <div style=\"position: absolute;width: 100%;left: 0px; top: -30px; font-weight: bold\" ><p style=\"text-align: center\">{{languageData.admin.checkCity}}</p></div>\n      <!-- 表单-->\n    </div>\n    <div class=\"cityBox left\" style=\"position: relative\">\n      <div class=\"ctiye\" :cityList=\"cityList\">\n        <div v-for=\"list in countryData\" style=\"text-align: left\">\n          <div class=\"contyName\">\n            <span class=\"Country\">\n                          {{languageData.id=='Chinese'?list.country.CN:list.country.EN}}</span>\n            <div class=\"cleae\"></div>\n          </div>\n          <div class=\"cityList\" >\n            <div v-for=\"lis in list.country.province\" style=\"font-size: 12px;line-height: 30px;\">\n             <span v-show=\"languageData.id=='Chinese'\">{{lis.CN?lis.CN+'：':''}} </span>\n              <span v-show=\"languageData.id!='Chinese'\">{{lis.EN?lis.EN+'：':''}} </span>\n              <span class=\"cityBoxText\" v-for=\"li in lis.city\">\n                {{languageData.id=='Chinese'?li.CN:li.EN}}\n                <i class=\"el-icon-circle-close\" @click.stop=\"delCityFn(li.id)\"></i>\n                         </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <el-button type=\"primary\" round  class=\"submit\" :disabled=\"submintA\" v-on:click=\"updateCity()\" style=\"margin: 0px;margin-top: 10px\" >{{languageData.id == 'Chinese'?'提交':'Submit'}}  </el-button>\n      <div style=\"position: absolute;width: 100%;left: 0px; top: -30px; font-weight: bold\"><p>{{languageData.admin.CompanyCity}}</p></div>\n    </div>\n  </div>\n</template>\n<style scoped>\n  form {height: 289px}\n  .submit{ width: 130px;height: 34px;line-height: 0px;margin-top:69px;}\n   .cityBox{width:500px;height:295px;border: 1px solid #e1e1e1; margin-left:20px;background-color: white;padding:  20px; border-radius:8px; box-shadow:0 0 16px #e2e7ea; }\n  .ctiye{width:500px;height:265px;overflow-y: scroll; }\n  .fromBox{width: 300px;border: 1px solid #e1e1e1;margin-left:20px;background-color: white;padding: 40px 20px 40px 20px; border-radius:8px; box-shadow:0 0 16px #e2e7ea;padding-bottom: 6px }\n  .Country{font-weight: bold;}\n  .cityList{ padding-left: 20px;}\n  .contyName{padding-top: 20px;}\n  .cityBoxText{padding: 5px 10px; cursor: pointer}\n</style>\n<script>\n  import UserImg from '../../../static/img/icon/userDeFilt.png'\n  import jsonListData from '../../../static/local.json'\n  import {mapState, mapActions} from 'vuex'\n  export default {\n    name: 'my-cityList',\n    created () {\n      // 查看本页面路由 绑定对应页面class\n      var usr = sessionStorage.getItem('user')\n      if(usr) {\n        usr = JSON.parse(usr)\n        console.log(usr)\n        this.user = usr\n      }\n    },\n    data () {\n      var indeofCity = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('请选择城市'));\n        }\n        setTimeout(() => {\n          if (this.getlist.data.indexOf(this.fromData.city) >= 0) {\n            return callback(new Error('该城市已有'));\n          }else {\n            callback();\n          }\n        }, 300);\n      };\n      return {\n        loading: false,\n        submintA: true,\n        labelPosition: 'left',\n        user: {\n          imgUlr: UserImg, // 账号图片\n          name: '小明管理员'\n        },\n        fromData: {\n          country: null, // 国家\n          province: null, // 省份州\n          city: null // 密码\n        },\n        rules: {\n          country: [\n            { required: true, message: '请输入用户商家名', trigger: 'blur' },\n            { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n          ],\n          province: [\n            { required: true, message: '请输入登陆账号', trigger: 'blur' },\n            { min: 3, max: 20, message: '长度在 3 到 20 个字符', trigger: 'blur' }\n          ],\n          city: [\n            { validator: indeofCity, trigger: 'change' },\n          ]\n        },\n        left: 'left',\n        getlist: {data: []},\n        options: [{\n          code: '1',\n          CN: '',\n          EN: ''\n        }],\n        provincePtions: [{\n          code: '',\n          CN: '',\n          EN: ''\n        }],\n        cityPtion: [{\n          code: '',\n          CN: '',\n          EN: ''\n        }],\n        provinceCheck: true,\n        countryData: [{\n          country: {\n            id: null,\n            CN: null,\n            EN: null,\n            province: [{\n              id: null,\n              CN: null,\n              EN: null,\n              city: [{\n                id: null,\n                CN: null,\n                EN: null\n              }]\n            }]\n          }\n        }]\n      }\n    },\n    methods: {\n      ...mapActions({\n        setCityPost: 'setCityList',\n        getCityList: 'getCityList'\n      }),\n      tableRowClassName ({row, rowIndex}) {\n        var x = rowIndex % 2\n        if (x === 0) {\n          return ''\n        } else if (x === 1) {\n          return 'success-row'\n        }\n        return ''\n      },\n      handleCurrentChange (val) {\n        console.log(`当前页: ${val}`)\n      },\n      login () {\n        this.$router.push({ name: \"map\" })\n      },\n      submitForm (formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.submintA = false\n            // 添加到本地城市列表\n            this.getlist.data.push(this.fromData.city)\n            // 重新编译界面\n            this.cityListFn(this.getlist)\n            // 清空 表单\n            this.fromData.country = ''\n            this.fromData.province = ''\n            this.fromData.city = ''\n            // 清空 城市列表\n            this.cityPtion = [{\n              code: '',\n              CN: '',\n              EN: ''\n            }]\n            this.provincePtions = [{\n              code: '',\n              CN: '',\n              EN: ''\n            }]\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      },\n      // 城市列表展示\n      cityListFn (res) {\n        this.getlist = res\n        res = res.data\n        var cityData = []\n        for (let i in res) {\n          // 拉取本地地址世界地址jsom\n          var DATA = jsonListData\n          // 申明单次循环地址\n          var address = {\n            country: {CN: '', id: '', EN: ''},\n            province: {CN: '', id: '', EN: ''},\n            city: {CN: '', id: '', EN: ''}\n          }\n          // 切割地址 分离国家城市\n          var list = res[i].split('_')\n          // 注入国家id\n          address.country.id = list[0]\n          address.country.CN = DATA[address.country.id].CN\n          address.country.EN = DATA[address.country.id].EN\n          if (list) {\n            // 注入省份id\n            address.province.id = address.country.id + '_' + list[1]\n            address.province.CN = DATA[address.country.id][address.province.id].CN\n            address.province.EN = DATA[address.country.id][address.province.id].EN\n            // 注入城市id\n            address.city.id = address.province.id + '_' + list[2]\n            address.city.CN = DATA[address.country.id][address.province.id][address.city.id].CN\n            address.city.EN = DATA[address.country.id][address.province.id][address.city.id].EN\n          }\n          cityData.push(address)\n        }\n        // 国家去重\n        var result = [], result2 = [], hash = {};\n        // 提出所有国家 和 重复的国家\n        for (var i = 0; i < cityData.length; i++) {\n          var elem = cityData[i].country.id\n          if (!hash[elem]) {\n            result.push({\n              country: {\n                id: cityData[i].country.id,\n                CN: cityData[i].country.CN,\n                EN: cityData[i].country.EN,\n                province: [{\n                  id: cityData[i].province.id,\n                  CN: cityData[i].province.CN,\n                  EN: cityData[i].province.EN,\n                  city: [{\n                    id: cityData[i].city.id,\n                    CN: cityData[i].city.CN,\n                    EN: cityData[i].city.EN\n                  }]\n                }]\n              }\n            })\n            hash[elem] = true\n          } else {\n            result2.push({\n              pid: cityData[i].country.id,\n              id: cityData[i].province.id,\n              CN: cityData[i].province.CN,\n              EN: cityData[i].province.EN,\n              city: [{\n                id: cityData[i].city.id,\n                CN: cityData[i].city.CN,\n                EN: cityData[i].city.EN\n              }]})\n          }\n        }\n        // 组装 城市列表\n        for (let i in result2) {\n          for (let k in result) {\n            var bol1 = true\n            if (result2[i].pid == result[k].country.id){\n              for (let s in result[k].country.province){\n                if (result2[i].id == result[k].country.province[s].id){\n                  var da = result[k].country.province[s].city\n                  var da2 = result2[i].city\n                  var dat3 = da.concat(da2)\n                  bol1 = false\n                  result[k].country.province[s].city = dat3\n                }\n              }\n              if (bol1) {\n                result[k].country.province.push(result2[i])\n              }\n            }\n          }\n        }\n        // 选择城市\n        this.countryData = result\n      },\n      // 城市下拉框\n      cityChange(type){\n        if(type == 'country'){\n          var parm = jsonListData[this.fromData.country]\n          // 提取国家省份数据\n          this.provincePtions = this.citPotin(parm,'country');\n          // 清空 省份和城市\n          this.fromData.province = ''\n          this.fromData.city = ''\n          // 查看有无省份\n          if( this.provincePtions[0].check){\n            // 隐藏省份选项\n            this.provinceCheck = false\n            // 赋值省份coede\n            this.fromData.province = this.provincePtions[0].code\n            // 自动执行寻找城市\n            type = 'province'\n          }else {\n            // 开放省份选择\n            this.provinceCheck = true\n            type = 'country'\n          }\n        }\n        // 从省份数据提取城市列表\n        if(type == 'province'){\n          var parm = jsonListData[this.fromData.country][this.fromData.province]\n          // 提取城市列表\n          this.cityPtion = this.citPotin(parm)\n          // 清空城市\n          this.fromData.city = ''\n        }\n        if(type == 'city'){\n          // 此处判断城市是否已被选择，放在验证表达里面去做了\n        }\n      },\n      // 选择城市\n      citPotin(data,type){\n        var result = []\n        var res = {code:null, EN:null, CN:null}\n        for (let i in data){\n          if(type = 'country'){\n            // 从国家数据提取省份列表\n              if(data[i].EN){ // 筛选有省份名称的（国家有三级地区）\n                res = {code:i, EN:data[i].EN, CN:data[i].CN,}\n                result.push(res)\n              }else {\n                if(typeof(data[i]) == 'object'){// 过滤名称\n                  res = {code:i, EN:data[i].EN|| 'Municipality', CN:data[i].CN || '直辖市',check:true}\n                  result.push(res)\n                }\n              }\n          }else {\n              if(data[i].EN){ // 筛选有城市（国家有三级地区）\n                res = {code:i, EN:data[i].EN, CN:data[i].CN,}\n                result.push(res)\n              }\n          }\n        }\n       return result\n      },\n      // 提交 城市\n      updateCity () {\n        var uer = sessionStorage.getItem('user')\n        uer = JSON.stringify(uer)\n        var parm = {\n          companyId: this.user.companyId,\n          cityList: this.getlist.data\n        }\n        this.loading = true\n        this.setCityPost(parm)\n      },\n      // 删除 城市\n      delCityFn (id){\n        var data = this.getlist.data\n        // 放开提交权限\n        this.submintA = false\n        if(data.length == 1){\n          // 最后一个被删除的 不放权限\n          this.submintA = true\n        }\n       for (let i in data){\n          if(id == data[i]){\n            // 去掉被删除的城市\n            data.splice(i,1)\n            this.cityListFn(this.getlist.data)\n            return\n          }\n       }\n      },\n      listStatus (res) {\n        this.loading = false\n        if (res.status == 0) {\n          // 修改成功\n          var text =  this.languageData.id=='Chinese'? '城市列表提交成功': 'City list submission success'\n          this.openSuccess(text)\n          var par = {\n            company: this.user.companyName\n          }\n          this.getCityList(par);\n          this.options = this.citPotin(jsonListData)\n        }\n        if (res.status != 0) {\n          // 修改成功 修改失败\n          this.openError(res.message)\n        }\n        // 清空 vuex 中的本次记录，以免被下次操作状态造成混淆\n        this.$store.commit('updateStatusTo', {body: null})\n      },\n      openSuccess (text) {\n        this.$message({\n          message: text,\n          type: 'success'\n        })\n      },\n      openError (text) {\n        this.$message.error(text)\n      }\n    },\n    computed: {\n      cityList: function () {\n        var parm = this.cityListData\n        if (parm) {\n          this.cityListFn(parm.body)\n        }\n        return 1\n      },\n      updateStatusData: function () {\n        var parm = this.updateStatus\n        if (parm) {\n          this.listStatus(parm)\n        }\n        return 1\n      },\n      languageData: function () {\n        var parm = this.language\n        if (parm) {\n          if (parm.check == 'Chinese') {\n            parm = parm.Chinese\n          }\n          if (parm.check == 'English') {\n            parm = parm.English\n//            this.formConfig.labelWidth = '200px'\n//            dom.style = 'width:620px'\n          }\n          // 替换 其他交互数据\n//          this.updateDate(parm)\n        }\n        return parm\n      },\n      ...mapState([\n        'addOderData',\n        'updateStatus',\n        'language',\n        'cityListData'\n      ])\n    },\n    mounted () {\n      var par = {\n        company: this.user.companyName\n      }\n      console.log(this.user,'console.log(this.user)')\n      this.getCityList(par);\n     this.options = this.citPotin(jsonListData)\n    },\n    components: {\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/public/addCity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"clearfix\",attrs:{\"updateStatusData\":_vm.updateStatusData,\"element-loading-text\":\"请稍后...\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"#f7f7f7\"}},[_c('div',{staticClass:\"fromBox left\",staticStyle:{\"position\":\"relative\"}},[_c('el-form',{ref:\"fromData\",attrs:{\"label-position\":_vm.labelPosition,\"label-width\":\"83px\",\"model\":_vm.fromData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":_vm.languageData.id=='Chinese'?'国家':'country'}},[_c('el-select',{attrs:{\"placeholder\":_vm.languageData.id=='Chinese'?'请选择':'country'},on:{\"change\":function($event){_vm.cityChange('country')}},model:{value:(_vm.fromData.country),callback:function ($$v) {_vm.$set(_vm.fromData, \"country\", $$v)},expression:\"fromData.country\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":_vm.languageData.id=='Chinese'?item.CN:item.EN,\"value\":item.code}})}))],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.provinceCheck),expression:\"provinceCheck\"}],attrs:{\"label\":_vm.languageData.id=='Chinese'?'省份（州）':'province'}},[_c('el-select',{attrs:{\"placeholder\":_vm.languageData.id=='Chinese'?'请选择':'province'},on:{\"change\":function($event){_vm.cityChange('province')}},model:{value:(_vm.fromData.province),callback:function ($$v) {_vm.$set(_vm.fromData, \"province\", $$v)},expression:\"fromData.province\"}},_vm._l((_vm.provincePtions),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":_vm.languageData.id=='Chinese'?item.CN:item.EN,\"value\":item.code}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.languageData.id=='Chinese'?'城市':'city',\"prop\":\"city\"}},[_c('el-select',{attrs:{\"placeholder\":_vm.languageData.id=='Chinese'?'请选择':'city'},on:{\"change\":function($event){_vm.cityChange('city')}},model:{value:(_vm.fromData.city),callback:function ($$v) {_vm.$set(_vm.fromData, \"city\", $$v)},expression:\"fromData.city\"}},_vm._l((_vm.cityPtion),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":_vm.languageData.id=='Chinese'?item.CN:item.EN,\"value\":item.code}})}))],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){_vm.submitForm('fromData')}}},[_vm._v(\" \"+_vm._s(_vm.languageData.id=='Chinese'?'选择':'Selected')+\" \")])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"left\":\"0px\",\"top\":\"-30px\",\"font-weight\":\"bold\"}},[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.languageData.admin.checkCity))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"cityBox left\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"ctiye\",attrs:{\"cityList\":_vm.cityList}},_vm._l((_vm.countryData),function(list){return _c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('div',{staticClass:\"contyName\"},[_c('span',{staticClass:\"Country\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.languageData.id=='Chinese'?list.country.CN:list.country.EN))]),_vm._v(\" \"),_c('div',{staticClass:\"cleae\"})]),_vm._v(\" \"),_c('div',{staticClass:\"cityList\"},_vm._l((list.country.province),function(lis){return _c('div',{staticStyle:{\"font-size\":\"12px\",\"line-height\":\"30px\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.languageData.id=='Chinese'),expression:\"languageData.id=='Chinese'\"}]},[_vm._v(_vm._s(lis.CN?lis.CN+'：':'')+\" \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.languageData.id!='Chinese'),expression:\"languageData.id!='Chinese'\"}]},[_vm._v(_vm._s(lis.EN?lis.EN+'：':'')+\" \")]),_vm._v(\" \"),_vm._l((lis.city),function(li){return _c('span',{staticClass:\"cityBoxText\"},[_vm._v(\"\\n              \"+_vm._s(_vm.languageData.id=='Chinese'?li.CN:li.EN)+\"\\n              \"),_c('i',{staticClass:\"el-icon-circle-close\",on:{\"click\":function($event){$event.stopPropagation();_vm.delCityFn(li.id)}}})])})],2)}))])})),_vm._v(\" \"),_c('el-button',{staticClass:\"submit\",staticStyle:{\"margin\":\"0px\",\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\",\"round\":\"\",\"disabled\":_vm.submintA},on:{\"click\":function($event){_vm.updateCity()}}},[_vm._v(_vm._s(_vm.languageData.id == 'Chinese'?'提交':'Submit')+\"  \")]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"width\":\"100%\",\"left\":\"0px\",\"top\":\"-30px\",\"font-weight\":\"bold\"}},[_c('p',[_vm._v(_vm._s(_vm.languageData.admin.CompanyCity))])])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-230b903c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/public/addCity.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-230b903c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addCity.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addCity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addCity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-230b903c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addCity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-230b903c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/public/addCity.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"set\">\n    <section id=\"header\">\n     <HeaderPublc></HeaderPublc>\n    </section>\n    <div id=\"cent\">\n        <cent></cent>\n    </div>\n    <section id=\"footer\"> </section>\n  </div>\n</template>\n<style scoped>\n  .set{height:100%;background:#fff; *zoom: 1;background-color: #f7f7f7;}\n  body{background-color:#f7f7f7}\n  #cent{margin-left: 240px;margin-right: 20px;background-color: #f7f7f7;padding-top:10%; }\n  #header{position: fixed;width: 220px;top: 0px;left: 0px;height: 100%;background: #fff; box-shadow:0 0 16px #e2e7ea;}\n\n</style>\n<script>\n  import HeaderPublc from '../public/set.vue'\n  import cent from '../public/addCity.vue'\n  export default {\n    name: 'my-city',\n    data () {\n      return {\n        fromData: {\n          userName: null, // 账号\n          password: null, // 密码\n          clientType: 1 // 客户端类型\n        },\n        remember: false, // 是否记住密码\n        error: false, // 登陆是否成功\n        defaultLayers: null,\n        ui: null,\n        list: [],\n        bubble: null,\n        routeInstructionsContainer: null,\n        input: null\n      }\n    },\n    methods: {\n//      // 判断浏览器\n//      getExplorer () {\n//        var explorer = window.navigator.userAgent ;\n//        // ie\n//        if (explorer.indexOf('MSIE') >= 0) {\n//          return 'ie'\n//        }\n//        // firefox\n//        else if (explorer.indexOf('Firefox') >= 0) {\n//          return 'Firefox'\n//        }\n//        // Chrome\n//        else if (explorer.indexOf('Chrome') >= 0) {\n//          return 'Chrome'\n//        }\n//        // Opera\n//        else if (explorer.indexOf('Opera') >= 0) {\n//          return 'Opera'\n//        }\n//        // Safari\n//        else if (explorer.indexOf('Safari') >= 0) {\n//          return 'Safari'\n//        }\n//      },\n//      method1 (tableid) { // 整个表格拷贝到EXCEL中\n//        if (this.getExplorer() == 'ie') {\n//          var curTbl = document.getElementById(tableid)\n//          var oXL = new ActiveXObject('Excel.Application')\n//          // 创建AX对象excel\n//          var oWB = oXL.Workbooks.Add()\n//          // 获取workbook对象\n//          var xlsheet = oWB.Worksheets(1)\n//          // 激活当前sheet\n//          var sel = document.body.createTextRange()\n//          sel.moveToElementText(curTbl)\n//          // 把表格中的内容移到TextRange中\n//          sel.select;\n//          // 全选TextRange中内容\n//          sel.execCommand(\"Copy\")\n//          // 复制TextRange中内容\n//          xlsheet.Paste()\n//          // 粘贴到活动的EXCEL中\n//          oXL.Visible = true\n//          // 设置excel可见属性\n//\n//          try {\n//            var fname = oXL.Application.GetSaveAsFilename(\"Excel.xls\", \"Excel Spreadsheets (*.xls), *.xls\");\n//          } catch (e) {\n//            print(\"Nested catch caught \" + e);\n//          } finally {\n//            oWB.SaveAs(fname);\n//            oWB.Close(savechanges = false)\n//            // xls.visible = false;\n//            oXL.Quit()\n//            oXL = null\n//            // 结束excel进程，退出完成\n//            // window.setInterval(\"Cleanup();\",1);\n//            this.idTmr = window.setInterval(this.Cleanup(), 1)\n//          }\n//        } else {\n//          this.tableToExcel('ta')\n//        }\n//      },\n//      Cleanup () {\n//        window.clearInterval(this.idTmr)\n//        this.CollectGarbage()\n//      },\n      login () {\n        this.$router.push({ name: 'map' })\n      }\n    },\n    computed: {\n\n    },\n    mounted () {\n      // 配置顶部菜单\n      var parm = {logo: false, login: false, us: true, language: true, user: false, nav: false}\n      this.$store.commit('updateNave', parm)\n    },\n    components: {\n      HeaderPublc: HeaderPublc,\n      cent: cent\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/cityConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"set\"},[_c('section',{attrs:{\"id\":\"header\"}},[_c('HeaderPublc')],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"cent\"}},[_c('cent')],1),_vm._v(\" \"),_c('section',{attrs:{\"id\":\"footer\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fd3659f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/cityConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fd3659f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cityConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cityConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cityConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fd3659f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cityConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4fd3659f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/cityConfig.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}