webpackJsonp([7],{Ogwm:function(t,e){},aGom:function(t,e){},n3aj:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("jbb4"),i=a("Dd8w"),l=a.n(i),o=a("qiyf"),r=a.n(o),c=a("NYxO"),n={name:"my-divseList",data:function(){return{user:{imgUlr:r.a,name:"小明管理员"},fromShow:!1,userSaech:null,tableData2:[{id:"",deviceNumber:"",model:"",battery:"",deviceStatus:"",usageStatus:"",deviceStatusText:"",usageStatusText:"",company:"",location:""}],style1:{height:"70px"},style2:{height:"70px",border:"none 0px",background:"#d9dddd","margin-top":"25px"},fromData:{deviceId:null,usageStatus:"0",text:null},rules:{usageStatus:[{required:!0,message:"请选择回收状态",trigger:"blur"},{min:2,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],text:[{required:!0,message:"回收地点不能为空",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}]},dialogVisible:!1,dialogVisible2:!1,labelPosition:"left"}},methods:l()({},Object(c.b)({updateDeviceUsageStatus:"updateDeviceUsageStatus",getDeviceList:"getDeviceList"}),{tableRowClassName:function(t){t.row;var e=t.rowIndex%2;return 0===e?"":1===e?"success-row":""},handleCurrentChange:function(t){console.log("当前页: "+t)},handleClose:function(t){this.dialogVisible=!0},handleClose2:function(t){this.dialogVisible2=!0},deviceListFn:function(t){t=t.body.data,console.log(t),this.tableData2=[];for(var e in t){var a="异常",s="异常";0==t[e].deviceStatus&&(a="关机"),1==t[e].deviceStatus&&(a="开机"),0==t[e].usageStatus&&(s="闲置中"),1==t[e].usageStatus&&(s="使用中"),2==t[e].usageStatus&&(s="回收中");var i={id:t[e].id,deviceNumber:t[e].deviceNumber,model:t[e].model,battery:t[e].battery+"%",deviceStatus:t[e].deviceStatus,usageStatus:t[e].usageStatus,deviceStatusText:a+"("+t[e].battery+"%)",usageStatusText:s,company:t[e].company,location:t[e].location||"位置异常"};this.tableData2.push(i)}},updateDeviceUsageStatusFn:function(t,e){console.log(t),this.fromData.deviceId=t,1==e?(this.dialogVisible=!0,this.fromData.usageStatus=0):this.dialogVisible2=!0},updateStatusPost:function(){if(!this.fromData.text){return this.openError("备注不能为空"),!1}var t={deviceId:this.fromData.deviceId,status:this.fromData.usageStatus,text:this.fromData.text};this.updateDeviceUsageStatus(t)},login:function(){this.$router.push({name:"map"})},listStatus:function(t){if(this.loading=!1,0==t.status){this.openSuccess(t.message);var e={companyName:"大洋运输",deviceNumber:this.fromData.deviceNumber};this.getDeviceList(e)}0!=t.status&&this.openError(t.message),this.$store.commit("updateStatusTo",{body:null})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.updateStatusPost()})},openSuccess:function(t){this.$message({message:t,type:"success"})},openError:function(t){this.$message.error(t)}}),computed:l()({DeviceListData:function(){var t=this.DeviceList;return t&&this.deviceListFn(t),1},UserListData:function(){var t=this.updateStatus;return t&&this.listStatus(t),1}},Object(c.c)(["updateStatus","addOderData","language","DeviceList"])),mounted:function(){var t={companyName:"大洋运输",deviceNumber:this.fromData.deviceNumber};this.getDeviceList(t)},components:{}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"userList"}},[a("el-dialog",{attrs:{visible:t.dialogVisible,width:"430px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-input",{attrs:{placeholder:"请输入回收地址"},model:{value:t.fromData.text,callback:function(e){t.$set(t.fromData,"text",e)},expression:"fromData.text"}}),t._v(" "),a("span",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary",size:"medium",round:""},on:{click:function(e){t.updateStatusPost()}}},[t._v("确 定")]),t._v(" "),a("el-button",{staticStyle:{width:"120px"},attrs:{size:"medium",round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible2,width:"50%"},on:{"update:visible":function(e){t.dialogVisible2=e}}},[a("div",{staticClass:"alertBox"},[a("div",{staticClass:"card"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"timeLabel left"},[t._v("2017-09-21 09:30")]),t._v(" "),a("div",{staticClass:"left"},[t._v(" 设备回收中")]),a("div",{staticClass:"cleae"})]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"timeLabel left"}),a("div",[a("span",{staticClass:"city"},[t._v("北京")]),t._v(" "),a("span",{staticClass:"el-icon-back back"}),t._v(" "),a("span",{staticClass:"city"},[t._v("深圳")])]),t._v(" "),a("div",{staticClass:"cleae"})])]),t._v(" "),a("div",{staticClass:"card"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"timeLabel left"},[t._v("2017-09-21 09:30")]),t._v(" "),a("div",{staticClass:"left"},[t._v(" 设备回收中")]),a("div",{staticClass:"cleae"})]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"timeLabel left"}),a("div",[a("span",{staticClass:"city"},[t._v("北京")]),t._v(" "),a("span",{staticClass:"el-icon-back back"}),t._v(" "),a("span",{staticClass:"city"},[t._v("深圳")])]),t._v(" "),a("div",{staticClass:"cleae"})])])]),t._v(" "),a("div",{staticClass:"card",staticStyle:{"padding-top":"40px"}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"timeLabel left"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.fromShow,expression:"!fromShow"}],staticStyle:{width:"120px"},attrs:{size:"medium",round:""},on:{click:function(e){t.fromShow=!0}}},[t._v("添加记录")])],1),t._v(" "),a("div",{staticClass:"left"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.fromShow,expression:"fromShow"}],staticClass:"border"},[a("el-form",{ref:"fromData",attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.fromData,rules:t.rules}},[a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"回收状态",prop:"companyName"}},[a("el-radio",{attrs:{label:"0"},model:{value:t.fromData.usageStatus,callback:function(e){t.$set(t.fromData,"usageStatus",e)},expression:"fromData.usageStatus"}},[t._v("回收中")]),t._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:t.fromData.usageStatus,callback:function(e){t.$set(t.fromData,"usageStatus",e)},expression:"fromData.usageStatus"}},[t._v("回收完成")])],1),t._v(" "),a("el-form-item",{staticStyle:{width:"500px"},attrs:{label:"回收地点",prop:"account"}},[a("el-input",{model:{value:t.fromData.text,callback:function(e){t.$set(t.fromData,"text",e)},expression:"fromData.text"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:""}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{staticClass:"submit",staticStyle:{width:"150px"},attrs:{round:""},on:{click:function(e){t.submitForm("fromData")}}},[t._v(" 完成 ")])],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"cleae"})])])]),t._v(" "),a("div",{staticClass:"sech clearfix"},[a("div",{staticClass:"left",staticStyle:{width:"50%","margin-bottom":"25px"},attrs:{UserListData:t.UserListData}},[a("el-input",{staticClass:"saechIput",attrs:{placeholder:"搜索设备编号"},model:{value:t.fromData.deviceNumber,callback:function(e){t.$set(t.fromData,"deviceNumber",e)},expression:"fromData.deviceNumber"}}),t._v(" "),a("el-button",{staticClass:"saechBout",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.saechFn()}}})],1),t._v(" "),a("div",{staticClass:"right",staticStyle:{width:"50%","text-align":"right"}},[a("el-button",{staticClass:"bot",attrs:{size:"medium",icon:"el-icon-delete"}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"tableBox",attrs:{DeviceListData:t.DeviceListData}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,"row-class-name":t.tableRowClassName,"row-style":t.style1,"header-row-style":t.style2}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceNumber",label:"设备号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"model",label:"设备型号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company",label:"使用商家"}}),t._v(" "),a("el-table-column",{attrs:{prop:"deviceStatusText",label:"设备状态（电量）",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"usageStatusText",label:"使用状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"设备所在地"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"clickBot",staticStyle:{"margin-left":"20px"},on:{click:function(a){t.updateDeviceUsageStatusFn(e.row.id)}}},[a("a",[t._v("详情")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"clickBot el-icon-edit-outline"},[a("span",{staticStyle:{"padding-left":"10px"},on:{click:function(a){t.updateDeviceUsageStatusFn(e.row.id,1)}}},[t._v("回收完成")])])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"cleae",staticStyle:{"text-align":"right","padding-right":"20px","padding-top":"20px"}},[a("el-pagination",{attrs:{layout:"prev, pager, next",total:1e3},on:{"current-change":t.handleCurrentChange}})],1)])],1)},staticRenderFns:[]},d=a("VU/8")(n,u,!1,function(t){a("aGom")},"data-v-088b593a",null).exports,v={name:"my-login",data:function(){return{fromData:{userName:null,password:null,clientType:1},remember:!1,error:!1,defaultLayers:null,ui:null,list:[],bubble:null,routeInstructionsContainer:null,input:null}},methods:{login:function(){this.$router.push({name:"map"})}},computed:{},mounted:function(){this.$store.commit("updateNave",{logo:!1,login:!1,us:!0,language:!0,user:!1,nav:!1})},components:{HeaderPublc:s.a,cent:d}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"set"},[e("section",{attrs:{id:"header"}},[e("HeaderPublc")],1),this._v(" "),e("div",{attrs:{id:"cent"}},[e("cent")],1),this._v(" "),e("section",{attrs:{id:"footer"}})])},staticRenderFns:[]},p=a("VU/8")(v,m,!1,function(t){a("Ogwm")},"data-v-6cc2f823",null);e.default=p.exports}});
//# sourceMappingURL=7.5ca684e966fee134b3f6.js.map