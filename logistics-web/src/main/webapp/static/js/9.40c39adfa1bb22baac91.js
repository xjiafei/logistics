webpackJsonp([9],{"5Ieq":function(t,i){},nQW2:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("mvHQ"),e=s.n(a),n=s("Dd8w"),o=s.n(n),r=s("orAT"),c=s("AMmF"),l=s("nDrS"),p=s.n(l),u=s("NYxO"),d=s("EMXe"),v=s("Iu90"),h=s.n(v),y=(s("LPE6"),s("+EAe")),m=s.n(y),g=(s("VeD2"),s("xnxj")),C=s.n(g),f=(s("tZ6o"),s("uL0D")),_=s.n(f),N=(s("YUF+"),{name:"my-Chart",data:function(){return{showSaech:!1,input:null,startTime:null,year:null,list:[{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2},{id:"AKDFAKJ2",startPosition:{country:"china",city:"Beijing",address:"XXXXX"},endPosition:{country:"china",city:"Beijing",address:"XXXXX"},transportStatus:1,transportType:2}],listData:[],loading:!1,countryData:[{country:{id:null,CN:null,EN:null,province:[{id:null,CN:null,EN:null,city:[{id:null,CN:null,EN:null}]}]}}],visible1:!1,visible2:!1,cityText:{EN:"起运地",CN:"起运地",bol:!0},cityTextEnd:{EN:"目的地",CN:"目的地",bol:!0},time:"",form:{startDate:null,endDate:null,startPosition:{country:"",state:"",city:""},endPosition:{country:"",state:"",city:""},transportType:[0],transportStatus:-1,page:"",pageCount:""},transportTypelist:[{value:0,label:"火车"},{value:1,label:"汽车"},{value:2,label:"轮船"},{value:3,label:"飞机"}],transportStatuslist:[{value:-1,label:"全部状态"},{value:0,label:"运输中"},{value:1,label:"运输完成"}],pages:{page:1,pageSize:10,cunt:null}}},methods:o()({},Object(u.b)({transportListpost:"history",updateTansportStatuspost:"updateTansportStatus",delPost:"deletefn",checkID:"checkId",mapListFn:"mapListFn",getCityList:"getCityList",transportListpostH:"searchList"}),{handleCurrentChange:function(t){this.pages.page=parseInt(t),this.input?this.saechFn(!0):this.showSaech?this.sechH(!0):this.saechList(!0)},allCity:function(t){1==t&&(this.form.startPosition={country:"",state:"",city:""},this.cityText={EN:"all city",CN:"不限城市",bol:!0},this.visible1=!1),2==t&&(this.form.endPosition={country:"",state:"",city:""},this.cityTextEnd={EN:"all city",CN:"不限城市",bol:!0},this.visible2=!1)},saechList:function(t){this.loading=!0;var i={id:1,page:t?this.pages.page:1,pageSize:this.pages.pageSize};this.transportListpost(i)},saechFn:function(t){if(this.loading=!0,console.log(t),this.input){var i={code:this.input};this.checkID(i)}else{i={id:1};this.transportListpost(i)}},listFn:function(t){if(this.loading=!1,t.body.count){var i=t.body.count;this.pages.cunt=Math.ceil(i/this.pages.pageSize)}t=t.body.data;this.listData=[];var s=[];for(var a in t){var e,n,o,r;n=t[a].createTime?c.a.publicLo.timeCheng(t[a].createTime):{ymd:null,hms:null,times:null,s:null,d:null,m:null,md:null,week:null,y:null},r=t[a].completeTime?c.a.publicLo.timeCheng(t[a].completeTime):{ymd:null,hms:null,times:null,s:null,d:null,m:null,md:null,week:null,y:null};var l=c.a.publicLo.dataChange();if(l.y+l.m==n.y+n.m){var u=parseInt(l.d),d=parseInt(n.d);u==d?o="今天":u-d==1&&(o="昨天")}e=this.ransportSwitch(t[a].transportType);var v,h=p.a[t[a].startPosition.country],y=p.a[t[a].endPosition.country];h||(h={CN:"",EN:""}),y||(y={CN:"",EN:""}),v=t[a].deviceOnff&&1==t[a].deviceOnff?{CN:"开",EN:"ON"}:0==t[a].deviceOnff?{CN:"关",EN:"OFF"}:{CN:"异常",EN:"error"},t[a].newAddress?t[a].newAddress.length>10&&(t[a].newAddress=t[a].newAddress.substring(0,10)+"..."):t[a].newAddress="未请求到数据";var m={id:t[a].id,containerId:t[a].containerId,ladingId:t[a].billNumber,deviceId:t[a].deviceNumber,deviceOnff:t[a].deviceOnff,deviceOnfftext:v,startPosition:h.CN,endPosition:y.CN,startPositionEn:h.EN,endPositionEn:y.EN,transportStatus:t[a].transportStatus,transportType:t[a].transportType,deviceStatus:0,time:n.hms,year:parseInt(n.y),month:n.m,data:n.d,dateText:o,transportTypeText:e.type,transportTypeTextEn:e.typeEn,icon:e.icon,now:t[a].newAddress,ymd:n.ymd+" "+n.hms,completeTime:r.ymd+" "+r.hms};m.startPosition.length>4&&(m.startPosition=m.startPosition.substring(0,4)+"..."),m.endPosition.length>4&&(m.endPosition=m.endPosition.substring(0,4)+"..."),m.startPositionEn.length>8&&(m.startPositionEn=m.startPositionEn.substring(0,8)+"..."),m.endPositionEn.length>8&&(m.endPositionEn=m.endPositionEn.substring(0,8)+"..."),0==a?this.year=m.year:this.year==m.year&&(m.year=""),s.push(m)}this.listData=s},ransportSwitch:function(t){var i;switch(t){case 0:i={type:"火车",icon:_.a,typeEn:"Train"};break;case 1:i={type:"汽车",icon:h.a,typeEn:"Motor"};break;case 2:i={type:"轮船",icon:C.a,typeEn:"Freighter"};break;case 3:i={type:"飞机",icon:m.a,typeEn:"Flight"};break;default:i={type:"异常",icon:h.a}}return i},updatStatusFn:function(t){var i={id:e()(t),transportStatus:"1"};this.updateTansportStatuspost(i)},del:function(t){this.loading=!0;var i={id:e()(t)};this.delPost(i)},listStatus:function(t){0==t.status&&(this.openSuccess(t.message),this.input?this.saechFn():this.saechList()),0!=t.status&&this.openError(t.message),this.$store.commit("updateStatusTo",{body:null})},gomap:function(t){return this.$store.commit("addMapList",null),this.$router.push({name:"map",query:{id:t.id}}),!1},goChart:function(t){this.$router.push({name:"chartSon",query:{id:t.id}})},copyText:function(t){},sechH:function(t){var i="",s="",a={page:t?this.pages.page:1,pageSize:this.pages.pageSize};this.form.startDate&&(i=(i=c.a.publicLo.dataChange(this.form.startDate[0])).time,s=(s=c.a.publicLo.dataChange(this.form.startDate[1])).time,a.startDate=i,a.startDate=s),this.form.startPosition.country&&(a.startPosition=this.form.startPosition),this.form.endPosition.country&&(a.endPosition=this.form.endPosition),this.form.transportType.length>0&&(a.transportType=e()(this.form.transportType)),-1==this.form.transportStatus||(a.transportStatus=this.form.transportStatus),console.log(a),this.transportListpostH(a)},cityListFn:function(t){t=t.data;var i=[];for(var s in t){var a=p.a,e={country:{CN:"",id:"",EN:""},province:{CN:"",id:"",EN:""},city:{CN:"",id:"",EN:""}},n=t[s].split("_");e.country.id=n[0],e.country.CN=a[e.country.id].CN,e.country.EN=a[e.country.id].EN,n&&(e.province.id=e.country.id+"_"+n[1],e.province.CN=a[e.country.id][e.province.id].CN,e.country.EN=a[e.country.id][e.province.id].EN,e.city.id=e.province.id+"_"+n[2],e.city.CN=a[e.country.id][e.province.id][e.city.id].CN,e.city.EN=a[e.country.id][e.province.id][e.city.id].EN),i.push(e)}for(var o=[],r=[],c={},l=0;l<i.length;l++){var u=i[l].country.id;c[u]?r.push({pid:i[l].country.id,id:i[l].province.id,CN:i[l].province.CN,EN:i[l].province.EN,city:[{id:i[l].city.id,CN:i[l].city.CN,EN:i[l].city.EN}]}):(o.push({country:{id:i[l].country.id,CN:i[l].country.CN,EN:i[l].country.EN,province:[{id:i[l].province.id,CN:i[l].province.CN,EN:i[l].province.EN,city:[{id:i[l].city.id,CN:i[l].city.CN,EN:i[l].city.EN}]}]}}),c[u]=!0)}for(var d in r)for(var v in o){var h=!0;if(r[d].pid==o[v].country.id){for(var y in o[v].country.province)if(r[d].id==o[v].country.province[y].id){var m=o[v].country.province[y].city,g=r[d].city,C=m.concat(g);h=!1,o[v].country.province[y].city=C}h&&o[v].country.province.push(r[d])}}this.countryData=o},clickCity:function(t,i,s,a,e,n,o){if(1==t){this.form.startPosition.city=i.id;var r=this.form.startPosition.city.split("_");this.cityText={EN:s+"/"+i.EN,CN:a+"/"+i.CN},e&&n&&(this.cityText={EN:s+"/"+e+"/"+i.EN,CN:a+"/"+n+"/"+i.CN}),this.form.startPosition.country=r[0],this.form.startPosition.state=r[0]+"_"+r[1],this.cityText.bol=!1,this.visible1=!1}if(2==t){this.form.endPosition.city=i.id;r=this.form.endPosition.city.split("_");this.cityTextEnd={EN:s+"/"+i.EN,CN:a+"/"+i.CN},e&&(this.cityTextEnd={EN:s+"/"+e+"/"+i.EN,CN:a+"/"+n+"/"+i.CN}),this.form.endPosition.country=r[0],this.form.endPosition.state=r[0]+"_"+r[1],this.cityTextEnd.bol=!1,this.visible2=!1}},openSuccess:function(t){this.$message({message:t,type:"success"})},openError:function(t){this.$message.error(t)}}),computed:o()({transport:function(){var t=this.transportList;return t&&t.body&&this.listFn(t),1},updateStatusData:function(){var t=this.updateStatus;return t&&this.listStatus(t),1},mapListData:function(){this.mapList;return 1},cityList:function(){var t=this.cityListData;return t&&this.cityListFn(t.body),1},languageData:function(){var t=this.language;return t&&("Chinese"==t.check&&(t=t.Chinese),"English"==t.check&&(t=t.English)),t}},Object(u.c)(["transportList","updateStatus","language","mapList","cityListData"])),mounted:function(){this.getCityList({company:"大洋运输"}),this.saechList()},components:{ElButton:d.a,HeaderPublc:r.a}}),b={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("section",{attrs:{id:"header"}},[s("HeaderPublc")],1),t._v(" "),s("section",{attrs:{id:"cent"}},[s("div",{staticClass:"top"}),t._v(" "),s("div",{staticClass:"center"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSaech,expression:"!showSaech"}],staticClass:"saech",staticStyle:{width:"680px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"saechIput",attrs:{placeholder:t.languageData.public.sechText},domProps:{value:t.input},on:{input:function(i){i.target.composing||(t.input=i.target.value)}}}),t._v(" "),s("el-button",{staticClass:"saechBout",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(i){t.saechFn()}}}),t._v(" "),s("el-button",{staticClass:"saechBoutH",attrs:{type:"primary"},on:{click:function(i){t.showSaech=!t.showSaech}}},[t._v(" 高级查询")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSaech,expression:"showSaech"}],staticClass:"saech clearfix",staticStyle:{"text-align":"left",width:"1200px","min-width":"980px","max-width":"1500px"}},[s("div",{staticClass:"saechl"},[s("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.startDate,callback:function(i){t.$set(t.form,"startDate",i)},expression:"form.startDate"}}),t._v(" "),s("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",placeholder:"交通工具"},model:{value:t.form.transportType,callback:function(i){t.$set(t.form,"transportType",i)},expression:"form.transportType"}},t._l(t.transportTypelist,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),s("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"运输状态"},model:{value:t.form.transportStatus,callback:function(i){t.$set(t.form,"transportStatus",i)},expression:"form.transportStatus"}},t._l(t.transportStatuslist,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),s("div",{staticClass:"saechl",staticStyle:{width:"690px",margin:"auto"}},[s("div",{staticClass:"left"},[s("el-popover",{ref:"popover4",attrs:{placement:"bottom",width:"376",trigger:"click",cityList:t.cityList},model:{value:t.visible1,callback:function(i){t.visible1=i},expression:"visible1"}},[s("div",{staticClass:"noAddress"},[s("span",{staticClass:"all",on:{click:function(i){t.allCity(1)}}},[t._v("不限城市")])]),t._v(" "),s("div",{staticClass:"ctiye"},t._l(t.countryData,function(i){return s("div",[s("div",{staticClass:"contyName"},[s("span",{staticClass:"Country"},[t._v("\n                        "+t._s(i.country.CN))]),t._v(" "),s("div",{staticClass:"cleae"})]),t._v(" "),s("div",{staticClass:"cityList"},t._l(i.country.province,function(a){return s("div",{staticStyle:{"font-size":"12px","line-height":"30px"}},[t._v("\n                      "+t._s(a.CN?a.CN+"：":"")+"\n                      "),t._l(a.city,function(e){return s("span",{staticClass:"cityBox",on:{click:function(s){t.clickCity(1,e,i.country.EN,i.country.CN,a.EN,a.CN,i.country.id)}}},[t._v("\n                        "+t._s(e.CN)+"\n                       ")])})],2)}))])}))]),t._v(" "),s("div",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticClass:"addresst addressFrom"},[s("span",{staticStyle:{"margin-right":"10px",color:"#b4bccc"}},[t._v(t._s(t.cityText.CN))]),t._v(" "),s("span",{staticClass:"down el-icon-arrow-down"})])],1),t._v(" "),s("div",{staticClass:"left"},[s("el-popover",{ref:"popover3",attrs:{placement:"bottom",width:"376",trigger:"click",cityList:t.cityList},model:{value:t.visible2,callback:function(i){t.visible2=i},expression:"visible2"}},[s("div",{staticClass:"noAddress"},[s("span",{staticClass:"all",on:{click:function(i){t.allCity(2)}}},[t._v("不限城市")])]),t._v(" "),s("div",{staticClass:"ctiye"},t._l(t.countryData,function(i){return s("div",[s("div",{staticClass:"contyName"},[s("span",{staticClass:"Country"},[t._v("\n                        "+t._s(i.country.CN))]),t._v(" "),s("div",{staticClass:"cleae"})]),t._v(" "),s("div",{staticClass:"cityList"},t._l(i.country.province,function(a){return s("div",{staticStyle:{"font-size":"12px","line-height":"30px"}},[t._v("\n                      "+t._s(a.CN?a.CN+"：":"")+"\n                      "),t._l(a.city,function(e){return s("span",{staticClass:"cityBox",on:{click:function(s){t.clickCity(2,e,i.country.EN,i.country.CN,a.EN,a.CN,i.country.id)}}},[t._v("\n                        "+t._s(e.CN)+"\n                       ")])})],2)}))])}))]),t._v(" "),s("div",{directives:[{name:"popover",rawName:"v-popover:popover3",arg:"popover3"}],staticClass:"addresst addressFrom"},[s("span",{staticStyle:{"margin-right":"10px",color:"#b4bccc"}},[t._v(t._s(t.cityTextEnd.CN))]),t._v(" "),s("span",{staticClass:"down el-icon-arrow-down"})])],1),t._v(" "),s("div",{staticClass:"left"},[s("el-button",{staticClass:"saechBout",staticStyle:{"border-radius":"0px","margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(i){t.sechH()}}}),t._v(" "),s("el-button",{staticClass:"saechBoutH",staticStyle:{"margin-left":"0px"},attrs:{type:"primary"},on:{click:function(i){t.showSaech=!t.showSaech}}},[t._v(" 基础查询")])],1),t._v(" "),s("div",{staticClass:"cleae"})]),t._v(" "),s("div",{staticClass:"cleae"})]),t._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cardBox clearfix",attrs:{transport:t.transport,"element-loading-text":t.languageData.public.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"#f7f7f7"}},t._l(t.listData,function(i){return s("div",{staticClass:"card clearfix",on:{click:function(s){t.goChart(i)}}},[s("div",{staticClass:"span4 device left clearfix"},[s("div",{staticClass:" textBox address clearfix"},[s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?i.startPosition:i.startPositionEn))]),t._v(" "),s("div",{staticClass:"left iconBox"},[s("div",{staticClass:"iocn"},[s("img",{attrs:{src:i.icon}})]),t._v(" "),s("div",{staticClass:"l"}),t._v(" "),s("p",{staticClass:"go"},[t._v(t._s(0==i.transportStatus?"运输中":1==i.transportStatus?"运输完成":2==i.transportStatus?"运输错误":"异常"))])]),t._v(" "),s("div",{staticClass:"left ctiy"},[t._v(t._s("Chinese"==t.languageData.id?i.endPosition:i.endPositionEn))]),t._v(" "),s("div",{staticClass:"cleae"}),t._v(" "),s("div",{staticClass:"text"},[s("p",{staticClass:"goMap",staticStyle:{cursor:"pointer"},on:{click:function(s){s.stopPropagation(),t.gomap(i)}}},[s("i",{staticClass:"el-icon-location"}),t._v(" "+t._s(t.languageData.header.transport)+"："+t._s(i.now)),s("i",{staticClass:"el-icon-arrow-right"})])])])]),t._v(" "),s("div",{staticClass:"span3 device left  clearfix"},[s("div",{staticClass:"textBox deviceT"},[s("p",[s("label",[t._v(t._s(t.languageData.public.plalte)+"：")]),s("span",[t._v(t._s(i.containerId))])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.ladingIdBill)+"：")]),s("span",[t._v(t._s(i.ladingId))])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.container)+"：")]),s("span",[t._v(t._s(i.deviceId))])])])]),t._v(" "),s("div",{staticClass:"span3 device left clearfix",attrs:{mapListData:t.mapListData}},[s("div",{staticClass:"deviceStatus textBox deviceT"},[s("p",[s("label",[t._v(t._s(t.languageData.public.modeOfTransport)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?i.transportTypeText:i.transportTypeTextEn)+" ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.status)+"： ")]),s("span",[t._v(" "+t._s(0==i.transportStatus?"运输中":1==i.transportStatus?"运输完成":2==i.transportStatus?"运输错误":"异常")+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.deviceStatus)+"： ")]),s("span",[t._v(" "+t._s("Chinese"==t.languageData.id?i.deviceOnfftext.CN:i.deviceOnfftext.EN)+"  ")])]),t._v(" "),s("p",[s("label",[t._v(t._s(t.languageData.public.creaedTime)+"： ")]),s("span",[t._v(" "+t._s(i.ymd)+" ")])]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"null null"!=i.completeTime,expression:"list.completeTime != 'null null'"}]},[s("label",[t._v("完成时间：  ")]),s("span",[t._v(" "+t._s(i.completeTime)+" ")])])])]),t._v(" "),s("div",{staticClass:"cleae"}),t._v(" "),s("div",{staticClass:"timeDate"},[s("p",{staticClass:"year"},[t._v(" "+t._s(i.year?i.year:""))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:i.dateText,expression:"list.dateText"}],staticClass:"data"},[t._v(t._s(i.dateText))]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!i.dateText,expression:"!list.dateText"}],staticClass:"data"},[s("span",[t._v(" "+t._s(i.data))]),t._v(" "),s("i",{staticClass:"month"},[t._v(" "+t._s(parseInt(i.month))+" "+t._s(t.languageData.public.month))])])]),t._v(" "),s("div",{staticClass:"set"},[s("div",[s("el-button",{staticClass:"bot",attrs:{round:"",updateStatusData:t.updateStatusData},on:{click:function(s){s.stopPropagation(),t.del(i.id)}}},[t._v(t._s(t.languageData.public.Delete))])],1)])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticStyle:{"text-align":"right",width:"70%","min-width":"980px","max-width":"1500px","padding-bottom":"40px",margin:"auto"}},[s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pages.cunt>1,expression:"pages.cunt>1"}],attrs:{layout:"prev, pager, next","page-count":t.pages.cunt},on:{"current-change":t.handleCurrentChange}})],1)]),t._v(" "),s("div",{staticClass:"botList"})]),t._v(" "),s("section",{staticStyle:{"text-align":"right"},attrs:{id:"footer"}})])},staticRenderFns:[]},x=s("VU/8")(N,b,!1,function(t){s("5Ieq")},"data-v-adc59396",null);i.default=x.exports}});
//# sourceMappingURL=9.40c39adfa1bb22baac91.js.map